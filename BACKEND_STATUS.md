# üöß BioMarket Backend Integration - Status Report

**–î–∞—Ç–∞:** 2026-02-25  
**–°—Ç–∞—Ç—É—Å:** ‚è∏Ô∏è PAUSED (–Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)  
**–≠—Ç–∞–ø:** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è backend –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –Ω–∞ 70%

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
server/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.js              ‚úÖ –°–æ–∑–¥–∞–Ω (Express —Å–µ—Ä–≤–µ—Ä)
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js           ‚úÖ –°–æ–∑–¥–∞–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.js          ‚úÖ –°–æ–∑–¥–∞–Ω (—Å GDPR endpoints)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders.js         ‚úÖ –°–æ–∑–¥–∞–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscriptions.js  ‚úÖ –°–æ–∑–¥–∞–Ω
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ payments.js       ‚úÖ –°–æ–∑–¥–∞–Ω (mock)
‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authController.js ‚úÖ –°–æ–∑–¥–∞–Ω
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js           ‚úÖ –°–æ–∑–¥–∞–Ω (JWT)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ errorHandler.js   ‚úÖ –°–æ–∑–¥–∞–Ω
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îî‚îÄ‚îÄ validators.js     ‚úÖ –°–æ–∑–¥–∞–Ω (—á–µ—à—Å–∫–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã)
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îî‚îÄ‚îÄ schema.prisma         ‚úÖ –°–æ–∑–¥–∞–Ω (–ë–î —Å—Ö–µ–º–∞)
‚îú‚îÄ‚îÄ package.json              ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω
‚îú‚îÄ‚îÄ .env.example              ‚úÖ –°–æ–∑–¥–∞–Ω
‚îî‚îÄ‚îÄ .gitignore                ‚úÖ –°–æ–∑–¥–∞–Ω
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```json
{
  "express": "^5.2.1",
  "cors": "^2.8.6",
  "dotenv": "^17.3.1",
  "jsonwebtoken": "^9.0.3",
  "bcryptjs": "^3.0.3",
  "zod": "^4.3.6",
  "stripe": "^20.3.1",
  "prisma": "^5.22.0",
  "@prisma/client": "^5.22.0",
  "nodemon": "^3.1.14"
}
```

### 3. Prisma Client
```bash
‚úÖ Prisma —Å—Ö–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞
‚úÖ Prisma client —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
‚è∏Ô∏è –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã (–Ω—É–∂–Ω–∞ –ë–î)
```

### 4. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ endpoints

| Endpoint | –ú–µ—Ç–æ–¥ | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|--------|----------|
| `/api/auth/register` | POST | ‚úÖ –ì–æ—Ç–æ–≤ | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `/api/auth/login` | POST | ‚úÖ –ì–æ—Ç–æ–≤ | –õ–æ–≥–∏–Ω (JWT) |
| `/api/auth/logout` | POST | ‚úÖ –ì–æ—Ç–æ–≤ | Logout |
| `/api/auth/me` | GET | ‚úÖ –ì–æ—Ç–æ–≤ | –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å |
| `/api/users/profile` | GET | ‚úÖ –ì–æ—Ç–æ–≤ | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å |
| `/api/users/profile` | PUT | ‚úÖ –ì–æ—Ç–æ–≤ | –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å |
| `/api/users/profile` | DELETE | ‚úÖ –ì–æ—Ç–æ–≤ | GDPR: –£–¥–∞–ª–µ–Ω–∏–µ |
| `/api/users/data` | GET | ‚úÖ –ì–æ—Ç–æ–≤ | GDPR: Export –¥–∞–Ω–Ω—ã—Ö |
| `/api/orders` | GET | ‚úÖ –ì–æ—Ç–æ–≤ | –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ |
| `/api/orders` | POST | ‚úÖ –ì–æ—Ç–æ–≤ | –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ |
| `/api/subscriptions` | GET | ‚úÖ –ì–æ—Ç–æ–≤ | –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É |
| `/api/subscriptions` | POST | ‚úÖ –ì–æ—Ç–æ–≤ | –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É (mock) |
| `/api/payments` | GET | ‚úÖ –ì–æ—Ç–æ–≤ | –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π |
| `/api/payments/process` | POST | ‚úÖ –ì–æ—Ç–æ–≤ | –û–±—Ä–∞–±–æ—Ç–∫–∞ (mock) |

---

## ‚è∏Ô∏è –ß–¢–û –û–°–¢–ê–õ–û–°–¨

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–Ω—É–∂–µ–Ω –∏–Ω—Ç–µ—Ä–Ω–µ—Ç/–ª–æ–∫–∞–ª—å–Ω—ã–π PostgreSQL)
```bash
# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
cp .env.example .env

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é PostgreSQL
# –ò–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Railway PostgreSQL

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma migrate dev --name init
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
npm run dev

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health endpoint
curl http://localhost:3000/health
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ—Ä–æ–Ω—Ç–æ–º
```bash
# –û–±–Ω–æ–≤–∏—Ç—å .env –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ
VITE_API_MODE=real
VITE_API_URL=http://localhost:3000
```

### 4. –î–µ–ø–ª–æ–π –Ω–∞ Railway
```
1. Push –Ω–∞ GitHub
2. Railway ‚Üí Deploy from GitHub
3. –î–æ–±–∞–≤–∏—Ç—å PostgreSQL
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
5. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```

---

## üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
1. [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL –ª–æ–∫–∞–ª—å–Ω–æ **–ò–õ–ò** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Railway
2. [ ] –°–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª —Å `DATABASE_URL`
3. [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `npx prisma migrate dev --name init`
4. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä: `npm run dev`
2. [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å `/health` endpoint
3. [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ Postman/curl
4. [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–Ω –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
1. [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ `.env`
2. [ ] –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å API_MODE –Ω–∞ 'real'
3. [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–Ω –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
4. [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: –î–µ–ø–ª–æ–π
1. [ ] Push –Ω–∞ GitHub
2. [ ] Deploy –Ω–∞ Railway
3. [ ] –î–æ–±–∞–≤–∏—Ç—å PostgreSQL
4. [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ production
5. [ ] –û–±–Ω–æ–≤–∏—Ç—å FRONTEND_URL

---

## üìä –ü–†–û–ì–†–ï–°–°

```
Backend Structure:    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë 70%
Database Setup:       ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  0%
Local Testing:        ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  0%
Frontend Integration: ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  0%
Deployment:           ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  0%
```

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** ~15%

---

## üìù –ó–ê–ú–ï–¢–ö–ò

### –ß–µ—à—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞
- ‚úÖ GDPR endpoints —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –ß–µ—à—Å–∫–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã (—Ç–µ–ª–µ—Ñ–æ–Ω, –∞–¥—Ä–µ—Å, PSƒå)
- ‚úÖ –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å Europe/Prague
- ‚úÖ –í–∞–ª—é—Ç–∞ CZK –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã
- ‚úÖ bcrypt —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚è∏Ô∏è Rate limiting (–ø–æ—Ç–æ–º)
- ‚è∏Ô∏è HTTPS (Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### MVP vs –ü—Ä–æ–¥–∞–∫—à–µ–Ω
```
MVP (—Å–µ–π—á–∞—Å):
- Mock –ø–ª–∞—Ç–µ–∂–∏
- Mock email
- –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

–ü—Ä–æ–¥–∞–∫—à–µ–Ω (–ø–æ—Ç–æ–º):
- Real Stripe
- SendGrid/Resend email
- Rate limiting
- Sentry –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```

---

## üîß –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ó–ê–ü–£–°–ö–ê

```bash
# 1. –°–æ–∑–¥–∞—Ç—å .env
cd server
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å DATABASE_URL

# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma migrate dev --name init

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
npm run dev

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
curl http://localhost:3000/health
```

---

**–ì–æ—Ç–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç!** üöÄ
