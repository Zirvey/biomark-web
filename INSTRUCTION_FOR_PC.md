# üìù –ò–ù–°–¢–†–£–ö–¶–ò–Ø –î–õ–Ø –ü–†–û–î–û–õ–ñ–ï–ù–ò–Ø –ù–ê –ü–ö

**–î–∞—Ç–∞:** 2026-02-26  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ë—ç–∫–µ–Ω–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω, –∂–¥—ë—Ç –¥–µ–ø–ª–æ—è

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –±—ç–∫–µ–Ω–¥–µ:
1. ‚úÖ **–í–∞–ª–∏–¥–∞—Ç–æ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞** ‚Äî —É–ø—Ä–æ—â—ë–Ω (–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª—é–±–æ–π —Ñ–æ—Ä–º–∞—Ç)
2. ‚úÖ **–ü–∞—Ä–æ–ª—å** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
3. ‚úÖ **Error Handler** ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å `err.errors.map`
4. ‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç—ã** ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ `validators.js`

### –§—Ä–æ–Ω—Ç–µ–Ω–¥:
5. ‚úÖ **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞—Ä–æ–ª—å
6. ‚úÖ **sessionStorage** ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ —Å –ª–æ–≥–∏–Ω–æ–º

---

## üöÄ –ß–¢–û –î–ï–õ–ê–¢–¨ –ù–ê –ü–ö:

### 1. –ü–æ—Ç—è–Ω–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è

```bash
cd /Users/temirlankakishev/Project/biomark-web
git pull origin main
```

---

### 2. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è

**Railway:**
1. –ó–∞–π–¥–∏ –Ω–∞ https://railway.app
2. –ü—Ä–æ–µ–∫—Ç `biomark-web`
3. **Deployments** ‚Üí —Å–º–æ—Ç—Ä–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π
4. **–°—Ç–∞—Ç—É—Å:** –î–æ–ª–∂–µ–Ω –±—ã—Ç—å **Deployed** ‚úÖ

**–ï—Å–ª–∏ Failed:**
- –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ `czechPhoneSchema is not defined` ‚Äî –∑–Ω–∞—á–∏—Ç –º–æ–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –µ—â—ë –Ω–µ –∑–∞–¥–µ–ø–ª–æ–∏–ª–∏—Å—å
- –ü–æ–¥–æ–∂–¥–∏ 2-3 –º–∏–Ω—É—Ç—ã

**–ï—Å–ª–∏ Deployed:**
- –û—Ç–∫—Ä–æ–π `https://biomark-web-production.up.railway.app/health`
- –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: `{"status":"ok",...}`

---

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é

1. –û—Ç–∫—Ä–æ–π `https://biomark-web.vercel.app/register.html`
2. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É:
   - **–ò–º—è:** `Test Test`
   - **Email:** `test@test.com`
   - **–¢–µ–ª–µ—Ñ–æ–Ω:** `+420 123 456 789` (–∏–ª–∏ –ª—é–±–æ–π 9+ —Ü–∏—Ñ—Ä)
   - **–§–µ—Ä–º–∞:** `Test Farm`
   - **–ü–∞—Ä–æ–ª—å:** `test123` (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)
3. –ù–∞–∂–º–∏ **"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"**

**–î–æ–ª–∂–Ω–æ —Å—Ä–∞–±–æ—Ç–∞—Ç—å:**
- ‚úÖ –ü–µ—Ä–µ–∫–∏–Ω–µ—Ç –Ω–∞ `index.html`
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–∫–∞–∂–µ—Ç "Test Test"
- ‚úÖ –ù–µ —Ä–∞–∑–ª–æ–≥–∏–Ω–∏—Ç!

---

### 4. –ü—Ä–æ–≤–µ—Ä—å —Å–µ—Å—Å–∏—é

**–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12):**
```javascript
// –ü—Ä–æ–≤–µ—Ä—å sessionStorage
Object.keys(sessionStorage)
// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: ['biomarket_token', 'biomarket_token_data', 'biomarket_user_role']

// –ü—Ä–æ–≤–µ—Ä—å —Ç–æ–∫–µ–Ω
sessionStorage.getItem('biomarket_token')
// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 'mock-token-...' –∏–ª–∏ JWT —Ç–æ–∫–µ–Ω

// –ü—Ä–æ–≤–µ—Ä—å –¥–∞–Ω–Ω—ã–µ
sessionStorage.getItem('biomarket_token_data')
// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: JSON —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

---

## üêõ –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø:

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "400 Bad Request" –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –ë—ç–∫–µ–Ω–¥ –µ—â—ë –Ω–µ –∑–∞–¥–µ–ø–ª–æ–∏–ª—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–¥–æ–∂–¥–∏ 2-3 –º–∏–Ω—É—Ç—ã
2. Railway –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å
3. –ò–ª–∏ –Ω–∞–∂–º–∏ **Redeploy** –≤ Railway Dashboard

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "Invalid token" –∏–ª–∏ —Ä–∞–∑–ª–æ–≥–∏–Ω–∏–≤–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ sessionStorage

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ `handleRegister` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ sessionStorage (–Ω–µ localStorage!)
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ `authManager.getUser()` —á–∏—Ç–∞–µ—Ç –∏–∑ sessionStorage
3. Hard Refresh: `Cmd + Shift + R`

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –û—à–∏–±–∫–∞ `czechPhoneSchema is not defined`

**–ü—Ä–∏—á–∏–Ω–∞:** –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞ –Ω–∞ Railway

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–¥–æ–∂–¥–∏ –ø–æ–∫–∞ Railway –∑–∞–¥–µ–ø–ª–æ–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. –ò–ª–∏ –Ω–∞–∂–º–∏ **Redeploy** –≤ Railway Dashboard

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ì–û–¢–û–í–ù–û–°–¢–ò:

- [ ] **Railway –¥–µ–ø–ª–æ–π:** Deployed ‚úÖ
- [ ] **Health check:** `{"status":"ok",...}` ‚úÖ
- [ ] **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç:** –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞–µ—Ç –Ω–∞ index.html ‚úÖ
- [ ] **–ù–µ —Ä–∞–∑–ª–æ–≥–∏–Ω–∏–≤–∞–µ—Ç:** sessionStorage —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è ‚úÖ
- [ ] **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–º—è:** "Test Test" ‚úÖ

---

## üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (–∫–æ–≥–¥–∞ –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç):

### 1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–Ω
- –í—ã–π—Ç–∏ (logout)
- –í–æ–π—Ç–∏ —Å —Ç–µ–º–∏ –∂–µ –¥–∞–Ω–Ω—ã–º–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ —Ä–∞–∑–ª–æ–≥–∏–Ω–∏–≤–∞–µ—Ç

### 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- –û—Ç–∫—Ä—ã—Ç—å `member-dashboard.html`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª—å
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–∫–∞–∑—ã (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—É—Å—Ç—ã–µ)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–ª–∏—Ç—å")

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏:
fetch('https://biomark-web-production.up.railway.app/api/auth/me', {
    headers: {
        'Authorization': 'Bearer ' + sessionStorage.getItem('biomarket_token')
    }
}).then(r => r.json()).then(console.log)
```

---

## üéØ –¶–ï–õ–¨:

**–í—Å—ë –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:**
1. ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ PostgreSQL
2. ‚úÖ –õ–æ–≥–∏–Ω ‚Üí JWT —Ç–æ–∫–µ–Ω
3. ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ API
4. ‚úÖ –ù–µ —Ä–∞–∑–ª–æ–≥–∏–Ω–∏–≤–∞–µ—Ç ‚Üí sessionStorage —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìû –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢:

1. **–°–∫–∏–Ω—å –ª–æ–≥–∏ Railway** (–ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π)
2. **–°–∫–∏–Ω—å –æ—à–∏–±–∫–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞** (F12)
3. **–°–∫–∏–Ω—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç `/health`**

---

**–£–¥–∞—á–∏! –í—Å—ë –ø–æ–ª—É—á–∏—Ç—Å—è!** üöÄ
